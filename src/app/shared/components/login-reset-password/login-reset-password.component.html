<div class="row justify-content-center fz-24">
  <div class="col-6">
    <app-content-box headerText="Forgot Password">
      <ng-container *ngIf="getPasswordResetMethods$ | async as methods">
        <!-- Enter  email, phone number, or username -->
        <form
          [formGroup]="resetPasswordForm"
          (ngSubmit)="onSubmit()"
          *ngIf="!methods.length"
        >
          <div class="mb-4 fw-bold">
            Enter your email, phone number, or username.
          </div>
          <mat-form-field appearance="fill" class="d-block">
            <mat-label>Email/Phone/Username</mat-label>
            <input
              matInput
              formControlName="accountIdentifier"
              autocomplete="email"
            />
          </mat-form-field>
          <div class="text-center">
            <button class="btn-clear btn-main py-1 mx-2">
              <span class="btn-main-text">Submit</span>
            </button>
          </div>
        </form>

        <!-- Select reset method -->
        <ng-container *ngIf="getResetPasswordCodeSend$ | async as codeSend">
          <ng-container
            *ngIf="!codeSend.resetPasswordCodeSend && methods.length"
          >
            <div class="mb-4 fw-bold">
              How do you want to reset your password?
            </div>
            <mat-radio-group
              aria-label="How do you want to reset your password?"
              class="d-block mb-5"
              [formControl]="resetPasswordMethodField"
            >
              <mat-radio-button
                class="d-block mb-2"
                [value]="method.value"
                *ngFor="let method of methods"
                >{{ method.label }}</mat-radio-button
              >
            </mat-radio-group>
            <div class="text-center">
              <button
                type="button"
                class="btn btn-link fz-24 mx-4"
                (click)="enterAccountIdentifier()"
              >
                Back
              </button>
              <button
                class="btn-clear btn-main py-1 mx-2"
                (click)="getPasswordResetCode()"
              >
                <span class="btn-main-text">Submit</span>
              </button>
            </div>
          </ng-container>
        </ng-container>

        <!-- Enter reset key -->
        <ng-container *ngIf="getResetPasswordCodeSend$ | async as codeSend">
          <ng-container *ngIf="codeSend.resetPasswordCodeSend">
            <div class="mb-4 fw-bold">Enter the password reset key.</div>
            <mat-form-field appearance="fill" class="d-block">
              <mat-label>Reset Key</mat-label>
              <input
                matInput
                [formControl]="resetPasswordKeyField"
                autocomplete="email"
              />
            </mat-form-field>
            <div class="text-center">
              <button
                class="btn-clear btn-main py-1 mx-2"
                (click)="submitResetKey()"
              >
                <span class="btn-main-text">Submit</span>
              </button>
            </div>
          </ng-container>
        </ng-container>
      </ng-container>
    </app-content-box>
  </div>
</div>
